# 挖矿的过程

我们常听说，矿工去挖矿赚比特币，这到底是怎么回事呢？首先，矿工将一定数量的Tx打包成Block，这个Block目前是候选的，还没有被Blockchain接受。然后，矿工要找到一个数，这个数与Block的Merkel Root拼接在一起，产生一个Hash，且Hash的值必须少于某个值，这个值叫做target，在Bits字段定义。

举个例子，当前候选的Block的Merkle Root是M，由于不确定哪个数(N)是我们要找的，初始化N=0，进行Hash，得到结果Hash(M, 0)=R1。判断R1是否少于target。现在，R1大于target，于是将N自增，N=1，得到结果Hash(M, 1)=R2，判断R2小于target，那么N=1是我们要找的数，记录在Nonce字段。

Bitcoin通过改变target的值，控制新一个Block的诞生时间，约为10分钟。如果当前Block只用了5分钟创造，那么降低target的值，这样挖矿的难度就会增加，花费时间会上升。如果当前Block使用了30分钟创造，那么增加target的值，降低挖矿难度，从而使挖矿时间徘徊在10分钟。

如此看来，挖矿相当于解答一个数学谜题，nonce字段是矿工的猜想，target字段用于判断谜题是否解答。寻找答案的过程没有任何技巧，是一种暴力破解，需要尝试所有的可能性。这样一来，挖矿的设备不能是普通的家用CPU，而是高性能的ASIC芯片，GPU，甚至是FPGAS。

当前挖矿成功的奖励是12.5比特币，刚开始时是50比特币，后面挖矿的奖励会越来越少，直到Bitcoin规定的2千1百万奖励全部分完，则不会再有奖励。
